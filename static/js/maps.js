function initialize() {
  var mData = {"data": {"mampang_prapatan": {"bangka": {"jumlah": 2, "lat": -6.2608384, "lng": 106.8207875}, "mampang_prapatan": {"jumlah": 1, "lat": -6.2439842, "lng": 106.8281623}, "pela_mampang": {"jumlah": 1, "lat": -6.250807399999999, "lng": 106.8148879}, "kuningan_barat": {"jumlah": 1, "lat": -6.2365111, "lng": 106.8222625}}, "jatinegara": {"bidara_cina": {"jumlah": 4, "lat": -6.22971, "lng": 106.86714}, "cipinang_besar_utara": {"jumlah": 4, "lat": -6.2193534, "lng": 106.8783167}, "cipinang_muara": {"jumlah": 4, "lat": -6.2344606, "lng": 106.8853868}, "kampung_melayu": {"jumlah": 1, "lat": -6.2248325, "lng": 106.8689346}, "cipinang_besar_selatan": {"jumlah": 1, "lat": -6.2295694, "lng": 106.8783167}}, "tebet": {"bukit_duri": {"jumlah": 2, "lat": -6.2179619, "lng": 106.8618383}, "manggarai_selatan": {"jumlah": 1, "lat": -6.2262143, "lng": 106.8583857}, "manggarai": {"jumlah": 1, "lat": -6.2104121, "lng": 106.8499422}, "menteng_dalam": {"jumlah": 1, "lat": -6.2287536, "lng": 106.8431656}, "tebet_barat": {"jumlah": 3, "lat": -6.2262143, "lng": 106.8583857}, "tebet_timur": {"jumlah": 1, "lat": -6.2262143, "lng": 106.8583857}}, "kemayoran": {"cempaka_baru": {"jumlah": 2, "lat": -6.171793999999999, "lng": 106.859052}, "kebon_kosong": {"jumlah": 2, "lat": -6.1563067, "lng": 106.8547133}, "harapan_mulya": {"jumlah": 2, "lat": -6.1620414, "lng": 106.8415499}, "kemayoran": {"jumlah": 3, "lat": -6.1620414, "lng": 106.8415499}, "serdang": {"jumlah": 2, "lat": -6.1563931, "lng": 106.861823}, "utan_panjang": {"jumlah": 2, "lat": -6.1653066, "lng": 106.8533591}}, "pasar_rebo": {"cijantung": {"jumlah": 2, "lat": -6.322277, "lng": 106.8576636}, "kalisari": {"jumlah": 2, "lat": -6.3450166, "lng": 106.859224}, "pekayon": {"jumlah": 2, "lat": -6.3464395, "lng": 106.8620891}}, "kramatjati": {"cililitan": {"jumlah": 1, "lat": -6.2677666, "lng": 106.8722693}}, "pulo_gadung": {"cipinang": {"jumlah": 2, "lat": -6.213997, "lng": 106.886009}, "jati": {"jumlah": 1, "lat": -6.1970255, "lng": 106.8974964}, "kayu_putih": {"jumlah": 2, "lat": -6.1796396, "lng": 106.8827427}, "pulo_gadung": {"jumlah": 2, "lat": -6.181712, "lng": 106.8974964}, "rawamangun": {"jumlah": 2, "lat": -6.1976024, "lng": 106.879792}, "pisangan_timur": {"jumlah": 5, "lat": -6.2078145, "lng": 106.879792}}, "pancoran": {"duren_tiga": {"jumlah": 2, "lat": -6.253163, "lng": 106.840088}, "kalibata": {"jumlah": 1, "lat": -6.264140599999999, "lng": 106.8370122}, "pengadegan": {"jumlah": 1, "lat": -6.2472052, "lng": 106.8475609}}, "jagakarsa": {"jagakarsa": {"jumlah": 1, "lat": -6.327337099999999, "lng": 106.8207875}, "srengseng_sawah": {"jumlah": 1, "lat": -6.3476171, "lng": 106.8266873}}, "cakung": {"jatinegara": {"jumlah": 3, "lat": -6.201795499999999, "lng": 106.921943}, "cakung_barat": {"jumlah": 1, "lat": -6.1754565, "lng": 106.9329091}, "cakung_timur": {"jumlah": 3, "lat": -6.177334399999999, "lng": 106.9535691}, "penggilingan": {"jumlah": 2, "lat": -6.2060792, "lng": 106.9329091}, "pulo_gebang": {"jumlah": 2, "lat": -6.2079551, "lng": 106.9535691}, "rawa_terate": {"jumlah": 1, "lat": -6.1860472, "lng": 106.9211043}}, "matraman": {"kayu_manis": {"jumlah": 1, "lat": -6.1960487, "lng": 106.8604179}, "pal_meriam": {"jumlah": 1, "lat": -6.2066411, "lng": 106.8615533}, "utan_kayu_selatan": {"jumlah": 2, "lat": -6.2043213, "lng": 106.8694651}, "utan_kayu_utara": {"jumlah": 1, "lat": -6.196758099999999, "lng": 106.8665147}, "kebon_manggis": {"jumlah": 1, "lat": -6.2053987, "lng": 106.8566857}}, "tanjung_priok": {"kebon_bawang": {"jumlah": 6, "lat": -6.1194606, "lng": 106.8901194}, "papanggo": {"jumlah": 4, "lat": -6.1261142, "lng": 106.8725376}, "tanjung_priok": {"jumlah": 1, "lat": -6.1108721, "lng": 106.8811379}, "sungai_bambu": {"jumlah": 3, "lat": -6.1361763, "lng": 106.8856933}, "warakas": {"jumlah": 3, "lat": -6.1223898, "lng": 106.8783167}, "sunter_agung": {"jumlah": 4, "lat": -6.136937199999999, "lng": 106.8620891}}, "duren_sawit": {"klender": {"jumlah": 4, "lat": -6.2133091, "lng": 106.8998239}, "pondok_kelapa": {"jumlah": 4, "lat": -6.2393686, "lng": 106.9299579}, "duren_sawit": {"jumlah": 1, "lat": -6.2321915, "lng": 106.9152021}, "malaka_jaya": {"jumlah": 1, "lat": -6.2226246, "lng": 106.9343848}, "pondok_bambu": {"jumlah": 2, "lat": -6.2325788, "lng": 106.9033981}, "pondok_kopi": {"jumlah": 1, "lat": -6.2248872, "lng": 106.9432389}}, "pasar_minggu": {"ragunan": {"jumlah": 1, "lat": -6.301752, "lng": 106.8207875}, "jati_padang": {"jumlah": 2, "lat": -6.2855, "lng": 106.82623}, "pejaten_barat": {"jumlah": 1, "lat": -6.284361, "lng": 106.844767}}, "pesanggrahan": {"bintaro": {"jumlah": 1, "lat": -6.2678825, "lng": 106.7617984}}, "cipayung": {"ceger": {"jumlah": 1, "lat": -6.304526000000001, "lng": 106.8915948}, "lubang_buaya": {"jumlah": 3, "lat": -6.2939072, "lng": 106.9033981}, "pondok_rangon": {"jumlah": 1, "lat": -6.352531, "lng": 106.903865}}, "cengkareng": {"cengkareng_timur": {"jumlah": 2, "lat": -6.1423316, "lng": 106.7337841}, "kedaung_kaliangke": {"jumlah": 1, "lat": -6.150556, "lng": 106.7559004}, "rawa_buaya": {"jumlah": 1, "lat": -6.1626897, "lng": 106.7231593}}, "menteng": {"cikini": {"jumlah": 2, "lat": -6.1906607, "lng": 106.8383887}, "kebon_sirih": {"jumlah": 2, "lat": -6.1851432, "lng": 106.8311122}, "menteng": {"jumlah": 1, "lat": -6.199137599999999, "lng": 106.8325872}, "pegangsaan": {"jumlah": 2, "lat": -6.2024403, "lng": 106.8488128}}, "cilincing": {"cilincing": {"jumlah": 1, "lat": -6.106328299999999, "lng": 106.9417632}, "semper_barat": {"jumlah": 2, "lat": -6.1259668, "lng": 106.925531}}, "kebayoran_baru": {"cipete_utara": {"jumlah": 1, "lat": -6.2596634, "lng": 106.8080833}}, "setiabudi": {"karet": {"jumlah": 1, "lat": -6.2134231, "lng": 106.8252123}, "menteng_atas": {"jumlah": 1, "lat": -6.218051099999999, "lng": 106.8399623}, "pasar_manggis": {"jumlah": 2, "lat": -6.2090339, "lng": 106.8415828}, "setiabudi": {"jumlah": 1, "lat": -6.2098892, "lng": 106.8223457}}, "tamansari": {"keagungan": {"jumlah": 1, "lat": -6.1505982, "lng": 106.8141505}}, "johar_baru": {"kampung_rawa": {"jumlah": 1, "lat": -6.1798872, "lng": 106.8554508}, "tanah_tinggi": {"jumlah": 1, "lat": -6.179464299999999, "lng": 106.8488128}, "johar_baru": {"jumlah": 2, "lat": -6.182985700000001, "lng": 106.8573435}}, "koja": {"lagoa": {"jumlah": 4, "lat": -6.1150195, "lng": 106.9093}, "tugu_selatan": {"jumlah": 3, "lat": -6.1354142, "lng": 106.9093}, "tugu_utara": {"jumlah": 2, "lat": -6.1252159, "lng": 106.9093}, "rawa_badak": {"jumlah": 2, "lat": -6.1187252, "lng": 106.9002762}}, "pademangan": {"pademangan_timur": {"jumlah": 4, "lat": -6.147520399999999, "lng": 106.8502879}}, "senen": {"paseban": {"jumlah": 10, "lat": -6.192131799999999, "lng": 106.851763}, "kramat": {"jumlah": 2, "lat": -6.184002899999999, "lng": 106.8466001}, "senen": {"jumlah": 1, "lat": -6.1771986, "lng": 106.8399623}}, "gambir": {"petojo_utara": {"jumlah": 2, "lat": -6.163971600000001, "lng": 106.8148879}}, "cempaka_putih": {"rawasari": {"jumlah": 1, "lat": -6.1815251, "lng": 106.868861}, "cempaka_putih_timur": {"jumlah": 1, "lat": -6.1761468, "lng": 106.8724156}}, "kebon_jeruk": {"sukabumi_selatan": {"jumlah": 1, "lat": -6.221487499999999, "lng": 106.773595}, "kebon_jeruk": {"jumlah": 1, "lat": -6.1959421, "lng": 106.773595}}, "ciracas": {"cibubur": {"jumlah": 1, "lat": -6.356087199999999, "lng": 106.879792}, "rambutan": {"jumlah": 1, "lat": -6.3051125, "lng": 106.8738909}}, "cilandak": {"cilandak_barat": {"jumlah": 1, "lat": -6.2922975, "lng": 106.79719}, "gandaria_selatan": {"jumlah": 1, "lat": -6.2706081, "lng": 106.7957153}}, "makasar": {"cipinang_melayu": {"jumlah": 1, "lat": -6.2528204, "lng": 106.9093}, "pinang_ranti": {"jumlah": 1, "lat": -6.291208, "lng": 106.886471}}, "sawah_besar": {"kartini": {"jumlah": 1, "lat": -6.152532, "lng": 106.8333247}, "pasar_baru": {"jumlah": 1, "lat": -6.1671806, "lng": 106.8340622}}, "kelapa_gading": {"kelapa_gading_timur": {"jumlah": 1, "lat": -6.166211, "lng": 106.9033981}, "pegangsaan_dua": {"jumlah": 1, "lat": -6.1658278, "lng": 106.9152021}}, "tanah_abang": {"petamburan": {"jumlah": 3, "lat": -6.1961208, "lng": 106.8075136}}, "kembangan": {"meruya_utara": {"jumlah": 1, "lat": -6.1970854, "lng": 106.7382072}}}, "error_count": 481, "success_count": 203, "q1": 1, "q2": 1, "q3": 1};
  visualisasiData(mData);
}

google.maps.event.addDomListener(window, 'load', initialize);

function visualisasiData(mData){ 
  var mapProp = {
    center:new google.maps.LatLng(-6.194758857278853, 106.82281494140625),
    zoom:12,
    mapTypeId:google.maps.MapTypeId.ROADMAP,
    styles:[{"featureType":"administrative","elementType":"all","stylers":[{"visibility":"on"},{"lightness":33}]},{"featureType":"landscape","elementType":"all","stylers":[{"color":"#f2e5d4"}]},{"featureType":"poi.park","elementType":"geometry","stylers":[{"color":"#c5dac6"}]},{"featureType":"poi.park","elementType":"labels","stylers":[{"visibility":"on"},{"lightness":20}]},{"featureType":"road","elementType":"all","stylers":[{"lightness":20}]},{"featureType":"road.highway","elementType":"geometry","stylers":[{"color":"#c5c6c6"}]},{"featureType":"road.arterial","elementType":"geometry","stylers":[{"color":"#e4d7c6"}]},{"featureType":"road.local","elementType":"geometry","stylers":[{"color":"#fbfaf7"}]},{"featureType":"water","elementType":"all","stylers":[{"visibility":"on"},{"color":"#acbcc9"}]}]
  };
  var map=new google.maps.Map(document.getElementById("googleMap"),mapProp);
  var mcOptions = {gridSize: 50, maxZoom: 16};
  var markers = [];
  var total=0;
  var data = mData.data;
  for(var i in data){
        //console.log("i : ",data[i])
        for (var x in data[i]){
          //console.log("x : ",data[i][x]['lat'])
          var iconURL = "http://maps.google.com/mapfiles/ms/icons/red-dot.png";;
          if(parseInt(data[i][x]['jumlah'])<=mData.q1){
            iconURL = "http://maps.google.com/mapfiles/ms/icons/green-dot.png";
          }
          else if(parseInt(data[i][x]['jumlah'])<=mData.q2){
            iconURL = "http://maps.google.com/mapfiles/ms/icons/blue-dot.png";
          }
          else if(parseInt(data[i][x]['jumlah'])<=mData.q3){
            iconURL = "http://maps.google.com/mapfiles/ms/icons/yellow-dot.png";
          }
          var marker = new google.maps.Marker({
            position: new google.maps.LatLng(data[i][x]['lat'],data[i][x]['lng']),
            content : "Kecamatan: "+ i+ "<br/>"+"Kelurahan: "+ x+ "<br/>"+ "Jumlah: "+ data[i][x]['jumlah']+ "<br/>",
            icon : iconURL,
            jumlah : data[i][x]['jumlah'],
          });
          google.maps.event.addListener(marker, 'click', function() {
            var infowindow = new google.maps.InfoWindow({});
            infowindow.setContent(this.content);
            infowindow.open(map, this);
          });
          
          markers.push(marker);
          
        }
  }

  var markerClusterer = new MarkerClusterer(map, markers, mcOptions);
}